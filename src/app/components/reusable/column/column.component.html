<div class="column">
  <header class="columnHeader">
    <p class="columnName">
      {{ column.colName }}
    </p>

    <div class="columnActions">
      <button class="actionBtn" (click)="openAddTaskModal(column.id)">
        <span class="material-symbols-outlined"> add </span>
      </button>

      <!-- <button class="actionBtn" (click)="openEditColumn()"> -->
      <button class="actionBtn" (click)="toggleColumnOptionsOpen()">
        <span class="material-symbols-outlined"> more_vert </span>
      </button>

      @if(column.tasks && column.tasks.length > 0) {
      <button class="actionBtn" (click)="toggleColumnExpanded()">
        <span class="material-symbols-outlined">
          {{ columnExpanded() ? "keyboard_arrow_up" : "keyboard_arrow_down" }}
        </span>
      </button>
      } @if(columnOptionsOpen()) {

      <div class="columnOptions">
        <a [routerLink]="['./column', `${column.id}`]">
          <span class="material-symbols-outlined"> fullscreen </span>
          Fullscreen</a
        >

        <button (click)="openEditColumn()">
          <span class="material-symbols-outlined"> edit </span>
          Edit
        </button>

        <button (click)="deleteColumn(column.id)">
          <span class="material-symbols-outlined"> delete </span>
          Delete
        </button>
      </div>

      }
    </div>
  </header>

  @if(column.tasks !== undefined && column.tasks.length > 0 && columnExpanded())
  {

  <div class="tasksContainer">
    @for(task of column.tasks; track task.id; let idx = $index) {
    <app-task [task]="task" [colId]="column.id" [taskIdx]="idx" />

    }
  </div>
  }
</div>
